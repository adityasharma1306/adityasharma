I"T!<p><i>9th May, 2021<br />
10 min read</i><br /><br />
Welcome folks to part 2 of <b>B for Bitcoin, Blockchain and Boom</b>, if you haven’t read the first part then you can read it <a href="B-for-Bitcoin,-Blockchain-and-Boom.html"> here</a>, as it will be necessary to understand the topics discussed here. So the things that we are gonna discuss today are going to be very interesting and also very important to understand the working of Bitcoin. So last time we discussed What is Blockchain and Bitcoin, this time we are gonna discuss, How they actually work?</p>

<p>Last time we talked about ledgers, The topics that we will discuss today are Hash functions, Timestamped append logs, Digital Signatures, Bitcoin Addresses, yep these will make your dinner table convos more exciting. So let’s start with what hashes are and how does blockchain use them. I will also attach a fun site at the end for you to fool around with hash functions.</p>

<p>Well we talked about that a bitcoin records all of it’s transactions in the form of a blockchain but there must be one question that you may be wondering about that how does the blockchain store all these transactions, every block stores transactions and in Bitcoin there is a new block added almost every 8 minutes and there are currently 680,000 blocks in the blockchain, it must not be like it keeps record that Aditya paid Prateek 10 BTC (yeah me and my friends make that kind of transactions on a daily basis), because if it does store it that way anyone who is adding the transactions to the blockchain can find out about it, also imagine the data size of these transactions, so what bitcoin does is encrypt these transactions in a form of hash functions, every transaction points to a unique hash function, we will read more about how encryption happens below.</p>

<p>Hashes basically takes inputs of any data set and size of let’s say x and maps it to an Output of fixed size. We will always have the same Hash for the same x. Just wait a couple of seconds and it will all come together. It is not feasible to obtain x from Hash(x), also any slight change in x results in massive change in hash, Imagine the above statement as following, assume there are 10 questions on the test but there is a catch, this is only a pass and fail test, if you get answer to all the questions right then you are pass every other possible case and you fail, so imagine that prof that is taking the exam is a bit techie and playful, so what he can do theoretically is put the answer key in a hash generator like this https://andersbrownworth.com/blockchain/hash site and generate a random hash, what he did here was that he entered some 10 words which are the correct answers and the site generates the hash which will correspond to only those 10 words in that exact same order, even if a letter changes hash will vary greatly as stated earlier too. So now he can simply make his computer enter all the responses of each child and if his answers generate the exact same hash it will mean that the student’s answers and answer key match perfectly and hence the student is passed. This was a hash function. I hope you understood that because it is a very important concept which will later help us in the mining part too.</p>

<p>So ok now that you know what a hash function is, it’s time to understand how does bitcoins use these well bitcoin uses SHA 256 type of hash function which produces a 40 character long hash function, so there are 10^40 cases I think possible and to get your guess right is infeasible, but what if it someone still cracks it so to prevent this bitcoin implements rather complex encryption using merkle tree which encrypts data into hashes then hashes into more hashes and well even more hashes, refer to the figure below:</p>

<p>Image</p>

<p>Now but what is the timeline of these transactions and how do we determine that well every block in a blockchain is timestamped. What does timestamped means well, “A timestamp server works by taking a hash of a block of items to be timestamped and widely publishing the hash, such as in a newspaper or Usenet post [2-5]. The timestamp proves that the data must have existed at the time, obviously, in order to get into the hash. Each timestamp includes the previous timestamp in its hash, forming a chain, with each additional timestamp reinforcing the ones before it.” This is a excerpt from Satoshi’s paper which basically means that the time is recorded for every block when it is formed and when new block is formed it’s timestamp also includes the previous timestamp in it’s hash.</p>

<p>So you may now have some idea that what information does one Block contains of the Blockchain and they are Merkle root Hash, Nonce (this will be explained when we will talk about mining just take it for granted now), Timestamp, Hash from previous block (as this connects the block from the rest of chain and also proves that those transaction existed and have taken place), Block Header, well this part is exactly what it says just a header of the block, imagine if you didn’t want the whole data of blocks because it’s probably around 350 gb of data till now but you don’t want the data you just want to make sure that ok these number of blocks exist ,so block headers point to blocks almost the same way as hashes point to the data, it proves that they are there, it points to them, we can’t recover all the info from that but we know it’s there as hash or in this case block exists, so you can just have Block Headers in a very less storage as one block header contains just 80 bytes of info and total blocks as we learnt today are approximately 680,000 so that comes up to around 50-60 mb which is pretty good as not everyone has the need of that 350gb of data.</p>

<p>Ahh well either you want more of this or you are very bored but if you have come this far then stay a couple more lines as this is where things get easier. So if you have ever seen a cheque you know it has a signature which is the identity of the person similarly bitcoin has a digital signature which is a bit more complex than your average curly letters and an underline. Well you may have heard about the two types of keys public and private and most people misunderstand that they are the digital signatures but they are only partially correct.</p>

<p>There are in fact two types of key a private key and a public key and a private key is generated completely randomly and then a public key is randomly generated using a private key but it is not possible to generate the private key back from the public key. So let’s say that I am sending that 10 BTC to Prateek so I will first generate my private and public key randomly then I would create a digital signature using message and my private key and send it over to Prateek, now how will Prateek verify that the payment is indeed from me and the transaction is valid well here is when Public key comes in the role and I share my public key with Prateek and he verifies the transaction using public key and message. Bitcoin uses Elliptic Curve Digital Signature Algorithm which hashes the key with SHA256 twice (if you don’t remember SHA256 it was mentioned in hash functions) and once compressed using RIPEMD-160 (no need to remember the name of this), and this is how a transaction takes place in Bitcoin, basically random key generation, digital signature and verification. I hope you have read this far and here is an easter egg for you d144b83deb58bc122167fe7d6f9979ea8aa9253d208e548070c9be7ccf722ef8 here is a hash function and I am the only person that knows what data set threw out this, if you are curious then text me on instgram, so I know you have read the whole thing.</p>

<p><b>Fun Fact: </b>A decade ago, Stefan Thomas was given 7,002 bitcoins for making an explainer video about how cryptocurrency works, Back then, their value was merely a few dollars each. However, now the 7,002 bitcoins are worth $220 million. But Thomas forgot the password to the hard drive that holds the private keys to a digital wallet which contains Bitcoin.</p>

<p>Feel free to reach out to me on <a href="https://www.instagram.com/adity.sharma13/" target="_blank">instagram</a> or <a href="mailto: s.aditya@gmail.com">mail</a> me, if you want to give any feedback, criticism, if you didn’t understand something or if you want to discuss more about cryptos or want to add some inputs or other things to the blog.</p>

<p>Thanks for reading, See you next Sunday.</p>
:ET